{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\LibraryManagementSystem\\\\librarymanagement\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database-service.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/paginator\";\n\nfunction SearchBookComponent_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"Book Name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r14.bookName);\n  }\n}\n\nfunction SearchBookComponent_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"Author Name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r15.authorName);\n  }\n}\n\nfunction SearchBookComponent_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"ISBN No\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r16.isbnNumber);\n  }\n}\n\nfunction SearchBookComponent_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"Price\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r17.price);\n  }\n}\n\nfunction SearchBookComponent_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"In Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_td_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r18.stockQuantity, \" \");\n  }\n}\n\nfunction SearchBookComponent_ng_container_22_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"Add to Cart\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_ng_container_22_td_2_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function SearchBookComponent_ng_container_22_td_2_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const element_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return ctx_r24.addBookToCart(element_r21.id);\n    });\n    i0.ɵɵtext(1, \" Out of Stock \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_ng_container_22_td_2_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function SearchBookComponent_ng_container_22_td_2_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const element_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return ctx_r27.addBookToCart(element_r21.id);\n    });\n    i0.ɵɵtext(1, \" Add \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_ng_container_22_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtemplate(1, SearchBookComponent_ng_container_22_td_2_button_1_Template, 2, 0, \"button\", 20);\n    i0.ɵɵtemplate(2, SearchBookComponent_ng_container_22_td_2_button_2_Template, 2, 0, \"button\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r21.stockQuantity == \"0\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", element_r21.stockQuantity != \"0\");\n  }\n}\n\nfunction SearchBookComponent_ng_container_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 19);\n    i0.ɵɵtemplate(1, SearchBookComponent_ng_container_22_th_1_Template, 2, 0, \"th\", 7);\n    i0.ɵɵtemplate(2, SearchBookComponent_ng_container_22_td_2_Template, 3, 2, \"td\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction SearchBookComponent_ng_container_23_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"ID\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SearchBookComponent_ng_container_23_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r32 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r32.id, \" \");\n  }\n}\n\nfunction SearchBookComponent_ng_container_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 19);\n    i0.ɵɵtemplate(1, SearchBookComponent_ng_container_23_th_1_Template, 2, 0, \"th\", 7);\n    i0.ɵɵtemplate(2, SearchBookComponent_ng_container_23_td_2_Template, 2, 1, \"td\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction SearchBookComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 24);\n  }\n}\n\nfunction SearchBookComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 25);\n  }\n}\n\nexport class SearchBookComponent {\n  constructor(databaseService, _snackBar) {\n    this.databaseService = databaseService;\n    this._snackBar = _snackBar;\n    this.displayedColumns = ['id', 'bookName', 'authorName', 'isbnNumber', 'price', 'stockQuantity'];\n    this.books = [];\n    this.totalBooksCount = 0;\n    this.pageSize = 8;\n    this.searchedInput = '';\n    this.currentPageIndex = 0;\n    this.isLoggedIn = false;\n    this.userId = sessionStorage.getItem('userId');\n    this.role = sessionStorage.getItem('role');\n    this.userName = sessionStorage.getItem('userName');\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.userId != null) {\n        _this.isLoggedIn = true;\n      }\n\n      var data = yield _this.databaseService.getBooks().toPromise();\n      _this.booksList = data;\n      _this.books = _this.booksList;\n      _this.totalBooksCount = _this.books.length;\n      _this.books = _this.books.slice(0, _this.pageSize);\n    })();\n  }\n\n  changePage(event) {\n    var tempBooks = this.booksList;\n    this.books = tempBooks.slice(event.pageIndex * this.pageSize, (event.pageIndex + 1) * this.pageSize);\n  }\n\n  filterBooks(event) {\n    this.searchedInput = event.target.value;\n    var tempBooks = this.booksList;\n    var tempBooks2 = [];\n\n    for (var i = 0; i < tempBooks.length; i++) {\n      if (tempBooks[i].bookName.includes(this.searchedInput) || tempBooks[i].authorName.includes(this.searchedInput)) {\n        tempBooks2.push(tempBooks[i]);\n      }\n    }\n\n    this.books = tempBooks2;\n    this.totalBooksCount = this.books.length;\n    this.books = this.books.slice(this.currentPageIndex * this.pageSize, (this.currentPageIndex + 1) * this.pageSize);\n  }\n\n  addBookToCart(bookId) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var cart = yield lastValueFrom(_this2.databaseService.getCartByUserId(_this2.userId));\n      cart[0].BookId.push(bookId);\n      yield lastValueFrom(_this2.databaseService.addBookInCart(cart[0]));\n    })();\n  }\n\n  openSnackBar(description) {\n    this._snackBar.open(description, 'Okay', {\n      duration: 2 * 1000,\n      horizontalPosition: this.horizontalPosition,\n      verticalPosition: this.verticalPosition\n    });\n  }\n\n}\n\nSearchBookComponent.ɵfac = function SearchBookComponent_Factory(t) {\n  return new (t || SearchBookComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService), i0.ɵɵdirectiveInject(i2.MatSnackBar));\n};\n\nSearchBookComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchBookComponent,\n  selectors: [[\"app-search-book\"]],\n  decls: 29,\n  vars: 7,\n  consts: [[1, \"container\", \"mainBody\"], [1, \"row\"], [1, \"col-lg-12\", \"searchBar\"], [\"type\", \"text\", \"placeholder\", \"Search Books\", 1, \"bookSearchBox\", 3, \"change\"], [1, \"col-md-12\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", \"booksTable\", 3, \"dataSource\"], [\"matColumnDef\", \"bookName\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"authorName\"], [\"matColumnDef\", \"isbnNumber\"], [\"matColumnDef\", \"price\"], [\"matColumnDef\", \"stockQuantity\"], [\"matColumnDef\", \"id\", 4, \"ngIf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"aria-label\", \"Select page\", 3, \"length\", \"pageSize\", \"page\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"matColumnDef\", \"id\"], [\"class\", \"disabled\", \"disabled\", \"\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"addButton\", 3, \"click\", 4, \"ngIf\"], [\"disabled\", \"\", 1, \"disabled\", 3, \"click\"], [1, \"addButton\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function SearchBookComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"input\", 3);\n      i0.ɵɵlistener(\"change\", function SearchBookComponent_Template_input_change_3_listener($event) {\n        return ctx.filterBooks($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 1);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"table\", 5);\n      i0.ɵɵelementContainerStart(7, 6);\n      i0.ɵɵtemplate(8, SearchBookComponent_th_8_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(9, SearchBookComponent_td_9_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(10, 9);\n      i0.ɵɵtemplate(11, SearchBookComponent_th_11_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(12, SearchBookComponent_td_12_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(13, 10);\n      i0.ɵɵtemplate(14, SearchBookComponent_th_14_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(15, SearchBookComponent_td_15_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(16, 11);\n      i0.ɵɵtemplate(17, SearchBookComponent_th_17_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(18, SearchBookComponent_td_18_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(19, 12);\n      i0.ɵɵtemplate(20, SearchBookComponent_th_20_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(21, SearchBookComponent_td_21_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(22, SearchBookComponent_ng_container_22_Template, 3, 0, \"ng-container\", 13);\n      i0.ɵɵtemplate(23, SearchBookComponent_ng_container_23_Template, 3, 0, \"ng-container\", 13);\n      i0.ɵɵtemplate(24, SearchBookComponent_tr_24_Template, 1, 0, \"tr\", 14);\n      i0.ɵɵtemplate(25, SearchBookComponent_tr_25_Template, 1, 0, \"tr\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 1);\n      i0.ɵɵelementStart(27, \"div\", 4);\n      i0.ɵɵelementStart(28, \"mat-paginator\", 16);\n      i0.ɵɵlistener(\"page\", function SearchBookComponent_Template_mat_paginator_page_28_listener($event) {\n        return ctx.changePage($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"dataSource\", ctx.books);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngIf\", ctx.role == \"student\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.role == \"admin\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"length\", ctx.totalBooksCount)(\"pageSize\", ctx.pageSize);\n    }\n  },\n  directives: [i3.MatTable, i3.MatColumnDef, i3.MatHeaderCellDef, i3.MatHeaderCell, i3.MatCellDef, i3.MatCell, i4.NgIf, i3.MatHeaderRowDef, i3.MatHeaderRow, i3.MatRowDef, i3.MatRow, i5.MatPaginator],\n  styles: [\".mainBody[_ngcontent-%COMP%] {\\n  max-width: 2000px;\\n  background-color: rgba(216, 208, 208, 0.933);\\n  height: 600px;\\n}\\n\\n.searchBar[_ngcontent-%COMP%] {\\n  background-color: yellowgreen;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.bookSearchBox[_ngcontent-%COMP%] {\\n  height: 35px;\\n  width: 25%;\\n  border: none;\\n  padding-left: 10px;\\n  font-family: Roboto;\\n  font-weight: 500;\\n  margin-left: 40%;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  padding-left: 10px;\\n}\\n\\n.booksTable[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 2%;\\n}\\n\\n.addButton[_ngcontent-%COMP%] {\\n  border: none;\\n  width: 40%;\\n  height: 30px;\\n  background-color: yellowgreen;\\n  color: white;\\n}\\n\\n.addButton[_ngcontent-%COMP%]:hover {\\n  box-shadow: 1px 1px 1px 1px grey;\\n}\\n\\n.disabled[_ngcontent-%COMP%] {\\n  background-color: lightgrey;\\n  border: none;\\n  width: 40%;\\n  height: 30px;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC1ib29rLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLGFBQUE7QUFDRjs7QUFFQTtFQUNFLDZCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLDZCQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsZ0NBQUE7QUFDRjs7QUFFQTtFQUNFLDJCQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQUNGIiwiZmlsZSI6InNlYXJjaC1ib29rLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW5Cb2R5IHtcclxuICBtYXgtd2lkdGg6IDIwMDBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIxNiwgMjA4LCAyMDgsIDAuOTMzKTtcclxuICBoZWlnaHQ6IDYwMHB4O1xyXG59XHJcblxyXG4uc2VhcmNoQmFyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3dncmVlbjtcclxuICBwYWRkaW5nLXRvcDogMTBweDtcclxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLmJvb2tTZWFyY2hCb3gge1xyXG4gIGhlaWdodDogMzVweDtcclxuICB3aWR0aDogMjUlO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgZm9udC1mYW1pbHk6IFJvYm90bztcclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIG1hcmdpbi1sZWZ0OiA0MCU7XHJcbn1cclxuXHJcbmlucHV0OmZvY3VzIHtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIHBhZGRpbmctbGVmdDogMTBweDtcclxufVxyXG5cclxuLmJvb2tzVGFibGUge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbi10b3A6IDIlO1xyXG59XHJcblxyXG4uYWRkQnV0dG9uIHtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgd2lkdGg6IDQwJTtcclxuICBoZWlnaHQ6IDMwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93Z3JlZW47XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uYWRkQnV0dG9uOmhvdmVyIHtcclxuICBib3gtc2hhZG93OiAxcHggMXB4IDFweCAxcHggZ3JleTtcclxufVxyXG5cclxuLmRpc2FibGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyZXk7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHdpZHRoOiA0MCU7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGNvbG9yOiBibGFjaztcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"sources":["C:/LibraryManagementSystem/librarymanagement/src/app/shared/search-book/search-book.component.ts"],"names":["lastValueFrom","i0","i1","i2","i3","i4","i5","SearchBookComponent_th_8_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","SearchBookComponent_td_9_Template","element_r14","$implicit","ɵɵadvance","ɵɵtextInterpolate","bookName","SearchBookComponent_th_11_Template","SearchBookComponent_td_12_Template","element_r15","authorName","SearchBookComponent_th_14_Template","SearchBookComponent_td_15_Template","element_r16","isbnNumber","SearchBookComponent_th_17_Template","SearchBookComponent_td_18_Template","element_r17","price","SearchBookComponent_th_20_Template","SearchBookComponent_td_21_Template","element_r18","ɵɵtextInterpolate1","stockQuantity","SearchBookComponent_ng_container_22_th_1_Template","SearchBookComponent_ng_container_22_td_2_button_1_Template","_r26","ɵɵgetCurrentView","ɵɵlistener","SearchBookComponent_ng_container_22_td_2_button_1_Template_button_click_0_listener","ɵɵrestoreView","element_r21","ɵɵnextContext","ctx_r24","addBookToCart","id","SearchBookComponent_ng_container_22_td_2_button_2_Template","_r29","SearchBookComponent_ng_container_22_td_2_button_2_Template_button_click_0_listener","ctx_r27","SearchBookComponent_ng_container_22_td_2_Template","ɵɵtemplate","ɵɵproperty","SearchBookComponent_ng_container_22_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","SearchBookComponent_ng_container_23_th_1_Template","SearchBookComponent_ng_container_23_td_2_Template","element_r32","SearchBookComponent_ng_container_23_Template","SearchBookComponent_tr_24_Template","ɵɵelement","SearchBookComponent_tr_25_Template","SearchBookComponent","constructor","databaseService","_snackBar","displayedColumns","books","totalBooksCount","pageSize","searchedInput","currentPageIndex","isLoggedIn","userId","sessionStorage","getItem","role","userName","ngOnInit","data","getBooks","toPromise","booksList","length","slice","changePage","event","tempBooks","pageIndex","filterBooks","target","value","tempBooks2","i","includes","push","bookId","cart","getCartByUserId","BookId","addBookInCart","openSnackBar","description","open","duration","horizontalPosition","verticalPosition","ɵfac","SearchBookComponent_Factory","t","ɵɵdirectiveInject","DatabaseServiceService","MatSnackBar","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","SearchBookComponent_Template","SearchBookComponent_Template_input_change_3_listener","$event","SearchBookComponent_Template_mat_paginator_page_28_listener","directives","MatTable","MatColumnDef","MatHeaderCellDef","MatHeaderCell","MatCellDef","MatCell","NgIf","MatHeaderRowDef","MatHeaderRow","MatRowDef","MatRow","MatPaginator","styles"],"mappings":"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","sourcesContent":["import { lastValueFrom } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/database-service.service\";\r\nimport * as i2 from \"@angular/material/snack-bar\";\r\nimport * as i3 from \"@angular/material/table\";\r\nimport * as i4 from \"@angular/common\";\r\nimport * as i5 from \"@angular/material/paginator\";\r\nfunction SearchBookComponent_th_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 17);\r\n    i0.ɵɵtext(1, \"Book Name\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_td_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 18);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r14 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(element_r14.bookName);\r\n} }\r\nfunction SearchBookComponent_th_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 17);\r\n    i0.ɵɵtext(1, \"Author Name\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_td_12_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 18);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r15 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(element_r15.authorName);\r\n} }\r\nfunction SearchBookComponent_th_14_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 17);\r\n    i0.ɵɵtext(1, \"ISBN No\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_td_15_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 18);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r16 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(element_r16.isbnNumber);\r\n} }\r\nfunction SearchBookComponent_th_17_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 17);\r\n    i0.ɵɵtext(1, \"Price\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_td_18_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 18);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r17 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(element_r17.price);\r\n} }\r\nfunction SearchBookComponent_th_20_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 17);\r\n    i0.ɵɵtext(1, \"In Stock\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_td_21_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 18);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r18 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", element_r18.stockQuantity, \" \");\r\n} }\r\nfunction SearchBookComponent_ng_container_22_th_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 17);\r\n    i0.ɵɵtext(1, \"Add to Cart\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_ng_container_22_td_2_button_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r26 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"button\", 22);\r\n    i0.ɵɵlistener(\"click\", function SearchBookComponent_ng_container_22_td_2_button_1_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r26); const element_r21 = i0.ɵɵnextContext().$implicit; const ctx_r24 = i0.ɵɵnextContext(2); return ctx_r24.addBookToCart(element_r21.id); });\r\n    i0.ɵɵtext(1, \" Out of Stock \");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_ng_container_22_td_2_button_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r29 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"button\", 23);\r\n    i0.ɵɵlistener(\"click\", function SearchBookComponent_ng_container_22_td_2_button_2_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r29); const element_r21 = i0.ɵɵnextContext().$implicit; const ctx_r27 = i0.ɵɵnextContext(2); return ctx_r27.addBookToCart(element_r21.id); });\r\n    i0.ɵɵtext(1, \" Add \");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_ng_container_22_td_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 18);\r\n    i0.ɵɵtemplate(1, SearchBookComponent_ng_container_22_td_2_button_1_Template, 2, 0, \"button\", 20);\r\n    i0.ɵɵtemplate(2, SearchBookComponent_ng_container_22_td_2_button_2_Template, 2, 0, \"button\", 21);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r21 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", element_r21.stockQuantity == \"0\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", element_r21.stockQuantity != \"0\");\r\n} }\r\nfunction SearchBookComponent_ng_container_22_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0, 19);\r\n    i0.ɵɵtemplate(1, SearchBookComponent_ng_container_22_th_1_Template, 2, 0, \"th\", 7);\r\n    i0.ɵɵtemplate(2, SearchBookComponent_ng_container_22_td_2_Template, 3, 2, \"td\", 8);\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction SearchBookComponent_ng_container_23_th_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 17);\r\n    i0.ɵɵtext(1, \"ID\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction SearchBookComponent_ng_container_23_td_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 18);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r32 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", element_r32.id, \" \");\r\n} }\r\nfunction SearchBookComponent_ng_container_23_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0, 19);\r\n    i0.ɵɵtemplate(1, SearchBookComponent_ng_container_23_th_1_Template, 2, 0, \"th\", 7);\r\n    i0.ɵɵtemplate(2, SearchBookComponent_ng_container_23_td_2_Template, 2, 1, \"td\", 8);\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction SearchBookComponent_tr_24_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"tr\", 24);\r\n} }\r\nfunction SearchBookComponent_tr_25_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"tr\", 25);\r\n} }\r\nexport class SearchBookComponent {\r\n    constructor(databaseService, _snackBar) {\r\n        this.databaseService = databaseService;\r\n        this._snackBar = _snackBar;\r\n        this.displayedColumns = [\r\n            'id',\r\n            'bookName',\r\n            'authorName',\r\n            'isbnNumber',\r\n            'price',\r\n            'stockQuantity',\r\n        ];\r\n        this.books = [];\r\n        this.totalBooksCount = 0;\r\n        this.pageSize = 8;\r\n        this.searchedInput = '';\r\n        this.currentPageIndex = 0;\r\n        this.isLoggedIn = false;\r\n        this.userId = sessionStorage.getItem('userId');\r\n        this.role = sessionStorage.getItem('role');\r\n        this.userName = sessionStorage.getItem('userName');\r\n    }\r\n    async ngOnInit() {\r\n        if (this.userId != null) {\r\n            this.isLoggedIn = true;\r\n        }\r\n        var data = await this.databaseService.getBooks().toPromise();\r\n        this.booksList = data;\r\n        this.books = this.booksList;\r\n        this.totalBooksCount = this.books.length;\r\n        this.books = this.books.slice(0, this.pageSize);\r\n    }\r\n    changePage(event) {\r\n        var tempBooks = this.booksList;\r\n        this.books = tempBooks.slice(event.pageIndex * this.pageSize, (event.pageIndex + 1) * this.pageSize);\r\n    }\r\n    filterBooks(event) {\r\n        this.searchedInput = event.target.value;\r\n        var tempBooks = this.booksList;\r\n        var tempBooks2 = [];\r\n        for (var i = 0; i < tempBooks.length; i++) {\r\n            if (tempBooks[i].bookName.includes(this.searchedInput) ||\r\n                tempBooks[i].authorName.includes(this.searchedInput)) {\r\n                tempBooks2.push(tempBooks[i]);\r\n            }\r\n        }\r\n        this.books = tempBooks2;\r\n        this.totalBooksCount = this.books.length;\r\n        this.books = this.books.slice(this.currentPageIndex * this.pageSize, (this.currentPageIndex + 1) * this.pageSize);\r\n    }\r\n    async addBookToCart(bookId) {\r\n        var cart = await lastValueFrom(this.databaseService.getCartByUserId(this.userId));\r\n        cart[0].BookId.push(bookId);\r\n        await lastValueFrom(this.databaseService.addBookInCart(cart[0]));\r\n    }\r\n    openSnackBar(description) {\r\n        this._snackBar.open(description, 'Okay', {\r\n            duration: 2 * 1000,\r\n            horizontalPosition: this.horizontalPosition,\r\n            verticalPosition: this.verticalPosition,\r\n        });\r\n    }\r\n}\r\nSearchBookComponent.ɵfac = function SearchBookComponent_Factory(t) { return new (t || SearchBookComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService), i0.ɵɵdirectiveInject(i2.MatSnackBar)); };\r\nSearchBookComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: SearchBookComponent, selectors: [[\"app-search-book\"]], decls: 29, vars: 7, consts: [[1, \"container\", \"mainBody\"], [1, \"row\"], [1, \"col-lg-12\", \"searchBar\"], [\"type\", \"text\", \"placeholder\", \"Search Books\", 1, \"bookSearchBox\", 3, \"change\"], [1, \"col-md-12\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", \"booksTable\", 3, \"dataSource\"], [\"matColumnDef\", \"bookName\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"authorName\"], [\"matColumnDef\", \"isbnNumber\"], [\"matColumnDef\", \"price\"], [\"matColumnDef\", \"stockQuantity\"], [\"matColumnDef\", \"id\", 4, \"ngIf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"aria-label\", \"Select page\", 3, \"length\", \"pageSize\", \"page\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"matColumnDef\", \"id\"], [\"class\", \"disabled\", \"disabled\", \"\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"addButton\", 3, \"click\", 4, \"ngIf\"], [\"disabled\", \"\", 1, \"disabled\", 3, \"click\"], [1, \"addButton\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]], template: function SearchBookComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"input\", 3);\r\n        i0.ɵɵlistener(\"change\", function SearchBookComponent_Template_input_change_3_listener($event) { return ctx.filterBooks($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 1);\r\n        i0.ɵɵelementStart(5, \"div\", 4);\r\n        i0.ɵɵelementStart(6, \"table\", 5);\r\n        i0.ɵɵelementContainerStart(7, 6);\r\n        i0.ɵɵtemplate(8, SearchBookComponent_th_8_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(9, SearchBookComponent_td_9_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵelementContainerStart(10, 9);\r\n        i0.ɵɵtemplate(11, SearchBookComponent_th_11_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(12, SearchBookComponent_td_12_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵelementContainerStart(13, 10);\r\n        i0.ɵɵtemplate(14, SearchBookComponent_th_14_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(15, SearchBookComponent_td_15_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵelementContainerStart(16, 11);\r\n        i0.ɵɵtemplate(17, SearchBookComponent_th_17_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(18, SearchBookComponent_td_18_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵelementContainerStart(19, 12);\r\n        i0.ɵɵtemplate(20, SearchBookComponent_th_20_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(21, SearchBookComponent_td_21_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵtemplate(22, SearchBookComponent_ng_container_22_Template, 3, 0, \"ng-container\", 13);\r\n        i0.ɵɵtemplate(23, SearchBookComponent_ng_container_23_Template, 3, 0, \"ng-container\", 13);\r\n        i0.ɵɵtemplate(24, SearchBookComponent_tr_24_Template, 1, 0, \"tr\", 14);\r\n        i0.ɵɵtemplate(25, SearchBookComponent_tr_25_Template, 1, 0, \"tr\", 15);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"div\", 1);\r\n        i0.ɵɵelementStart(27, \"div\", 4);\r\n        i0.ɵɵelementStart(28, \"mat-paginator\", 16);\r\n        i0.ɵɵlistener(\"page\", function SearchBookComponent_Template_mat_paginator_page_28_listener($event) { return ctx.changePage($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"dataSource\", ctx.books);\r\n        i0.ɵɵadvance(16);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.role == \"student\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.role == \"admin\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"length\", ctx.totalBooksCount)(\"pageSize\", ctx.pageSize);\r\n    } }, directives: [i3.MatTable, i3.MatColumnDef, i3.MatHeaderCellDef, i3.MatHeaderCell, i3.MatCellDef, i3.MatCell, i4.NgIf, i3.MatHeaderRowDef, i3.MatHeaderRow, i3.MatRowDef, i3.MatRow, i5.MatPaginator], styles: [\".mainBody[_ngcontent-%COMP%] {\\n  max-width: 2000px;\\n  background-color: rgba(216, 208, 208, 0.933);\\n  height: 600px;\\n}\\n\\n.searchBar[_ngcontent-%COMP%] {\\n  background-color: yellowgreen;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.bookSearchBox[_ngcontent-%COMP%] {\\n  height: 35px;\\n  width: 25%;\\n  border: none;\\n  padding-left: 10px;\\n  font-family: Roboto;\\n  font-weight: 500;\\n  margin-left: 40%;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  padding-left: 10px;\\n}\\n\\n.booksTable[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 2%;\\n}\\n\\n.addButton[_ngcontent-%COMP%] {\\n  border: none;\\n  width: 40%;\\n  height: 30px;\\n  background-color: yellowgreen;\\n  color: white;\\n}\\n\\n.addButton[_ngcontent-%COMP%]:hover {\\n  box-shadow: 1px 1px 1px 1px grey;\\n}\\n\\n.disabled[_ngcontent-%COMP%] {\\n  background-color: lightgrey;\\n  border: none;\\n  width: 40%;\\n  height: 30px;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaC1ib29rLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLGFBQUE7QUFDRjs7QUFFQTtFQUNFLDZCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLDZCQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsZ0NBQUE7QUFDRjs7QUFFQTtFQUNFLDJCQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQUNGIiwiZmlsZSI6InNlYXJjaC1ib29rLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW5Cb2R5IHtcclxuICBtYXgtd2lkdGg6IDIwMDBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIxNiwgMjA4LCAyMDgsIDAuOTMzKTtcclxuICBoZWlnaHQ6IDYwMHB4O1xyXG59XHJcblxyXG4uc2VhcmNoQmFyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3dncmVlbjtcclxuICBwYWRkaW5nLXRvcDogMTBweDtcclxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLmJvb2tTZWFyY2hCb3gge1xyXG4gIGhlaWdodDogMzVweDtcclxuICB3aWR0aDogMjUlO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgZm9udC1mYW1pbHk6IFJvYm90bztcclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIG1hcmdpbi1sZWZ0OiA0MCU7XHJcbn1cclxuXHJcbmlucHV0OmZvY3VzIHtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIHBhZGRpbmctbGVmdDogMTBweDtcclxufVxyXG5cclxuLmJvb2tzVGFibGUge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbi10b3A6IDIlO1xyXG59XHJcblxyXG4uYWRkQnV0dG9uIHtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgd2lkdGg6IDQwJTtcclxuICBoZWlnaHQ6IDMwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93Z3JlZW47XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uYWRkQnV0dG9uOmhvdmVyIHtcclxuICBib3gtc2hhZG93OiAxcHggMXB4IDFweCAxcHggZ3JleTtcclxufVxyXG5cclxuLmRpc2FibGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyZXk7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHdpZHRoOiA0MCU7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGNvbG9yOiBibGFjaztcclxufVxyXG4iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}