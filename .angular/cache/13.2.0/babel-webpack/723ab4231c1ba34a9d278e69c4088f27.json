{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\LibraryManagementSystem\\\\librarymanagement\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database-service.service\";\nimport * as i2 from \"@angular/material/paginator\";\nexport class ManageBookComponent {\n  constructor(databaseService) {\n    this.databaseService = databaseService;\n    this.displayedColumns = ['id', 'bookId', 'userId', 'borrowedDate', 'hasReturned'];\n    this.totalBooksCount = 0;\n    this.pageSize = 8;\n    this.searchedInput = \"\";\n    this.currentPageIndex = 0;\n    this.role = \"admin\";\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var data = yield _this.databaseService.getOrders().toPromise();\n      _this.orderList = data;\n      var data2 = yield _this.databaseService.getBooks().toPromise();\n      _this.bookList = data2;\n      var data3 = yield _this.databaseService.getUsers().toPromise();\n      _this.userList = data3;\n\n      _this.changeOrderFormat();\n    })();\n  }\n\n  changeOrderFormat() {\n    var orders;\n    var books;\n    var users;\n    orders = this.orderList;\n    books = this.bookList;\n    users = this.userList;\n\n    for (var i = 0; i < orders.length; i++) {\n      for (var j = 0; j < books.length; j++) {\n        if (orders[i].bookId == books[j].id) {\n          orders[i].bookId = books[j].bookName;\n        }\n      }\n\n      for (var j = 0; j < users.length; j++) {\n        if (orders[i].userId == users[j].id) {\n          orders[i].userId = users[j].userFirstName + \" \" + users[j].userLastName;\n        }\n      }\n\n      this.orders = orders;\n      this.orderList = orders;\n    }\n  }\n\n  changePage(event) {\n    var tempOrders = this.orderList;\n    this.orderList = tempOrders.slice(event.pageIndex * this.pageSize, (event.pageIndex + 1) * this.pageSize);\n  }\n\n  filterBooks(event) {\n    this.searchedInput = event.target.value;\n    this.orderList = this.orders;\n    var tempOrders = this.orderList;\n    var tempOrders2 = [];\n\n    for (var i = 0; i < tempOrders.length; i++) {\n      if (tempOrders[i].bookId.includes(this.searchedInput) || tempOrders[i].userId.includes(this.searchedInput)) {\n        tempOrders2.push(tempOrders[i]);\n      }\n    }\n\n    this.orderList = tempOrders2;\n    this.totalBooksCount = this.orderList.length;\n    this.orderList = this.orderList.slice(this.currentPageIndex * this.pageSize, (this.currentPageIndex + 1) * this.pageSize);\n  }\n\n}\n\nManageBookComponent.ɵfac = function ManageBookComponent_Factory(t) {\n  return new (t || ManageBookComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService));\n};\n\nManageBookComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ManageBookComponent,\n  selectors: [[\"app-manage-book\"]],\n  decls: 29,\n  vars: 2,\n  consts: [[1, \"container\", \"mainBody\"], [1, \"row\"], [1, \"col-lg-12\", \"searchBar\"], [\"type\", \"text\", \"placeholder\", \"Search Orders\", 1, \"bookSearchBox\", 3, \"change\"], [1, \"col-md-12\"], [\"aria-label\", \"Select page\", 3, \"length\", \"pageSize\", \"page\"]],\n  template: function ManageBookComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"input\", 3);\n      i0.ɵɵlistener(\"change\", function ManageBookComponent_Template_input_change_3_listener($event) {\n        return ctx.filterBooks($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 1);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"table\");\n      i0.ɵɵelementStart(7, \"tr\");\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"th\");\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Book Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"User Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"tr\");\n      i0.ɵɵelementStart(20, \"td\");\n      i0.ɵɵtext(21, \"Jill\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"td\");\n      i0.ɵɵtext(23, \"Smith\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"td\");\n      i0.ɵɵtext(25, \"50\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 1);\n      i0.ɵɵelementStart(27, \"div\", 4);\n      i0.ɵɵelementStart(28, \"mat-paginator\", 5);\n      i0.ɵɵlistener(\"page\", function ManageBookComponent_Template_mat_paginator_page_28_listener($event) {\n        return ctx.changePage($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"length\", ctx.totalBooksCount)(\"pageSize\", ctx.pageSize);\n    }\n  },\n  directives: [i2.MatPaginator],\n  styles: [\".mainBody[_ngcontent-%COMP%] {\\n  max-width: 2000px;\\n  background-color: rgba(216, 208, 208, 0.933);\\n  height: 600px;\\n}\\n\\n.searchBar[_ngcontent-%COMP%] {\\n  background-color: yellowgreen;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.bookSearchBox[_ngcontent-%COMP%] {\\n  height: 35px;\\n  width: 25%;\\n  border: none;\\n  padding-left: 10px;\\n  font-family: Roboto;\\n  font-weight: 500;\\n  margin-left: 40%;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  padding-left: 10px;\\n}\\n\\n.booksTable[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 2%;\\n}\\n\\n.returned[_ngcontent-%COMP%] {\\n  color: darkgreen;\\n}\\n\\n.notReturned[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n  width: 100%;\\n  border: 1px solid #ddd;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n  text-align: left;\\n  padding: 16px;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  background-color: white;\\n  border-bottom: 1px solid gray;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZS1ib29rLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLGFBQUE7QUFDRjs7QUFFQTtFQUNFLDZCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxVQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7O0VBRUUsZ0JBQUE7RUFDQSxhQUFBO0FBQ0Y7O0FBRUE7RUFDRSx1QkFBQTtFQUNBLDZCQUFBO0FBQ0YiLCJmaWxlIjoibWFuYWdlLWJvb2suY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbkJvZHkge1xyXG4gIG1heC13aWR0aDogMjAwMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjE2LCAyMDgsIDIwOCwgMC45MzMpO1xyXG4gIGhlaWdodDogNjAwcHg7XHJcbn1cclxuXHJcbi5zZWFyY2hCYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHllbGxvd2dyZWVuO1xyXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4uYm9va1NlYXJjaEJveCB7XHJcbiAgaGVpZ2h0OiAzNXB4O1xyXG4gIHdpZHRoOiAyNSU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHBhZGRpbmctbGVmdDogMTBweDtcclxuICBmb250LWZhbWlseTogUm9ib3RvO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgbWFyZ2luLWxlZnQ6IDQwJTtcclxufVxyXG5cclxuaW5wdXQ6Zm9jdXMge1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG59XHJcblxyXG4uYm9va3NUYWJsZSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgbWFyZ2luLXRvcDogMiU7XHJcbn1cclxuXHJcbi5yZXR1cm5lZCB7XHJcbiAgY29sb3I6IGRhcmtncmVlbjtcclxufVxyXG5cclxuLm5vdFJldHVybmVkIHtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICBib3JkZXItc3BhY2luZzogMDtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG59XHJcblxyXG50aCxcclxudGQge1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgcGFkZGluZzogMTZweDtcclxufVxyXG5cclxudGgge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBncmF5O1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/LibraryManagementSystem/librarymanagement/src/app/shared/manage-book/manage-book.component.ts"],"names":["i0","i1","i2","ManageBookComponent","constructor","databaseService","displayedColumns","totalBooksCount","pageSize","searchedInput","currentPageIndex","role","ngOnInit","data","getOrders","toPromise","orderList","data2","getBooks","bookList","data3","getUsers","userList","changeOrderFormat","orders","books","users","i","length","j","bookId","id","bookName","userId","userFirstName","userLastName","changePage","event","tempOrders","slice","pageIndex","filterBooks","target","value","tempOrders2","includes","push","ɵfac","ManageBookComponent_Factory","t","ɵɵdirectiveInject","DatabaseServiceService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ManageBookComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","ManageBookComponent_Template_input_change_3_listener","$event","ɵɵelementEnd","ɵɵtext","ɵɵelement","ManageBookComponent_Template_mat_paginator_page_28_listener","ɵɵadvance","ɵɵproperty","directives","MatPaginator","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/database-service.service\";\r\nimport * as i2 from \"@angular/material/paginator\";\r\nexport class ManageBookComponent {\r\n    constructor(databaseService) {\r\n        this.databaseService = databaseService;\r\n        this.displayedColumns = ['id', 'bookId', 'userId', 'borrowedDate', 'hasReturned'];\r\n        this.totalBooksCount = 0;\r\n        this.pageSize = 8;\r\n        this.searchedInput = \"\";\r\n        this.currentPageIndex = 0;\r\n        this.role = \"admin\";\r\n    }\r\n    async ngOnInit() {\r\n        var data = await this.databaseService.getOrders().toPromise();\r\n        this.orderList = data;\r\n        var data2 = await this.databaseService.getBooks().toPromise();\r\n        this.bookList = data2;\r\n        var data3 = await this.databaseService.getUsers().toPromise();\r\n        this.userList = data3;\r\n        this.changeOrderFormat();\r\n    }\r\n    changeOrderFormat() {\r\n        var orders;\r\n        var books;\r\n        var users;\r\n        orders = this.orderList;\r\n        books = this.bookList;\r\n        users = this.userList;\r\n        for (var i = 0; i < orders.length; i++) {\r\n            for (var j = 0; j < books.length; j++) {\r\n                if (orders[i].bookId == books[j].id) {\r\n                    orders[i].bookId = books[j].bookName;\r\n                }\r\n            }\r\n            for (var j = 0; j < users.length; j++) {\r\n                if (orders[i].userId == users[j].id) {\r\n                    orders[i].userId = users[j].userFirstName + \" \" + users[j].userLastName;\r\n                }\r\n            }\r\n            this.orders = orders;\r\n            this.orderList = orders;\r\n        }\r\n    }\r\n    changePage(event) {\r\n        var tempOrders = this.orderList;\r\n        this.orderList = tempOrders.slice(event.pageIndex * this.pageSize, (event.pageIndex + 1) * this.pageSize);\r\n    }\r\n    filterBooks(event) {\r\n        this.searchedInput = event.target.value;\r\n        this.orderList = this.orders;\r\n        var tempOrders = this.orderList;\r\n        var tempOrders2 = [];\r\n        for (var i = 0; i < tempOrders.length; i++) {\r\n            if (tempOrders[i].bookId.includes(this.searchedInput) || tempOrders[i].userId.includes(this.searchedInput)) {\r\n                tempOrders2.push(tempOrders[i]);\r\n            }\r\n        }\r\n        this.orderList = tempOrders2;\r\n        this.totalBooksCount = this.orderList.length;\r\n        this.orderList = this.orderList.slice(this.currentPageIndex * this.pageSize, (this.currentPageIndex + 1) * this.pageSize);\r\n    }\r\n}\r\nManageBookComponent.ɵfac = function ManageBookComponent_Factory(t) { return new (t || ManageBookComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService)); };\r\nManageBookComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ManageBookComponent, selectors: [[\"app-manage-book\"]], decls: 29, vars: 2, consts: [[1, \"container\", \"mainBody\"], [1, \"row\"], [1, \"col-lg-12\", \"searchBar\"], [\"type\", \"text\", \"placeholder\", \"Search Orders\", 1, \"bookSearchBox\", 3, \"change\"], [1, \"col-md-12\"], [\"aria-label\", \"Select page\", 3, \"length\", \"pageSize\", \"page\"]], template: function ManageBookComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"input\", 3);\r\n        i0.ɵɵlistener(\"change\", function ManageBookComponent_Template_input_change_3_listener($event) { return ctx.filterBooks($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 1);\r\n        i0.ɵɵelementStart(5, \"div\", 4);\r\n        i0.ɵɵelementStart(6, \"table\");\r\n        i0.ɵɵelementStart(7, \"tr\");\r\n        i0.ɵɵelementStart(8, \"th\");\r\n        i0.ɵɵtext(9, \"Id\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(10, \"th\");\r\n        i0.ɵɵelementStart(11, \"th\");\r\n        i0.ɵɵtext(12, \"Book Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"th\");\r\n        i0.ɵɵtext(14, \"User Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"th\");\r\n        i0.ɵɵtext(16, \"Date\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(17, \"th\");\r\n        i0.ɵɵtext(18, \"Status\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"tr\");\r\n        i0.ɵɵelementStart(20, \"td\");\r\n        i0.ɵɵtext(21, \"Jill\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"td\");\r\n        i0.ɵɵtext(23, \"Smith\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"td\");\r\n        i0.ɵɵtext(25, \"50\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"div\", 1);\r\n        i0.ɵɵelementStart(27, \"div\", 4);\r\n        i0.ɵɵelementStart(28, \"mat-paginator\", 5);\r\n        i0.ɵɵlistener(\"page\", function ManageBookComponent_Template_mat_paginator_page_28_listener($event) { return ctx.changePage($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(28);\r\n        i0.ɵɵproperty(\"length\", ctx.totalBooksCount)(\"pageSize\", ctx.pageSize);\r\n    } }, directives: [i2.MatPaginator], styles: [\".mainBody[_ngcontent-%COMP%] {\\n  max-width: 2000px;\\n  background-color: rgba(216, 208, 208, 0.933);\\n  height: 600px;\\n}\\n\\n.searchBar[_ngcontent-%COMP%] {\\n  background-color: yellowgreen;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.bookSearchBox[_ngcontent-%COMP%] {\\n  height: 35px;\\n  width: 25%;\\n  border: none;\\n  padding-left: 10px;\\n  font-family: Roboto;\\n  font-weight: 500;\\n  margin-left: 40%;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  padding-left: 10px;\\n}\\n\\n.booksTable[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 2%;\\n}\\n\\n.returned[_ngcontent-%COMP%] {\\n  color: darkgreen;\\n}\\n\\n.notReturned[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n  width: 100%;\\n  border: 1px solid #ddd;\\n}\\n\\nth[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n  text-align: left;\\n  padding: 16px;\\n}\\n\\nth[_ngcontent-%COMP%] {\\n  background-color: white;\\n  border-bottom: 1px solid gray;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZS1ib29rLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLGFBQUE7QUFDRjs7QUFFQTtFQUNFLDZCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxVQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7O0VBRUUsZ0JBQUE7RUFDQSxhQUFBO0FBQ0Y7O0FBRUE7RUFDRSx1QkFBQTtFQUNBLDZCQUFBO0FBQ0YiLCJmaWxlIjoibWFuYWdlLWJvb2suY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbkJvZHkge1xyXG4gIG1heC13aWR0aDogMjAwMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjE2LCAyMDgsIDIwOCwgMC45MzMpO1xyXG4gIGhlaWdodDogNjAwcHg7XHJcbn1cclxuXHJcbi5zZWFyY2hCYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHllbGxvd2dyZWVuO1xyXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4uYm9va1NlYXJjaEJveCB7XHJcbiAgaGVpZ2h0OiAzNXB4O1xyXG4gIHdpZHRoOiAyNSU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHBhZGRpbmctbGVmdDogMTBweDtcclxuICBmb250LWZhbWlseTogUm9ib3RvO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgbWFyZ2luLWxlZnQ6IDQwJTtcclxufVxyXG5cclxuaW5wdXQ6Zm9jdXMge1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG59XHJcblxyXG4uYm9va3NUYWJsZSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgbWFyZ2luLXRvcDogMiU7XHJcbn1cclxuXHJcbi5yZXR1cm5lZCB7XHJcbiAgY29sb3I6IGRhcmtncmVlbjtcclxufVxyXG5cclxuLm5vdFJldHVybmVkIHtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICBib3JkZXItc3BhY2luZzogMDtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG59XHJcblxyXG50aCxcclxudGQge1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgcGFkZGluZzogMTZweDtcclxufVxyXG5cclxudGgge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBncmF5O1xyXG59XHJcbiJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}