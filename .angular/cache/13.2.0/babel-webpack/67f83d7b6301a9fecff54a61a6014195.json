{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\LibraryManagementSystem\\\\librarymanagement\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database-service.service\";\nimport * as i2 from \"@angular/common/http\";\nexport class LoginComponent {\n  constructor(databaseService, http) {\n    this.databaseService = databaseService;\n    this.http = http;\n    this.email = '';\n    this.hasError = false;\n    this.user = [];\n    this.nameEmitter = new EventEmitter();\n  }\n\n  ngOnInit() {}\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var emailBox = document.getElementById('email');\n      var email = emailBox.value;\n      var passwordBox = document.getElementById('password');\n      var password = passwordBox.value;\n      _this.user = yield lastValueFrom(_this.databaseService.getUserByEmail(email, password));\n      localStorage.setItem('userId', _this.user[0].id);\n      localStorage.setItem('role', _this.user[0].role);\n      localStorage.setItem('userName', _this.user[0].userFirstName);\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService), i0.ɵɵdirectiveInject(i2.HttpClient));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  outputs: {\n    nameEmitter: \"nameEmitter\"\n  },\n  decls: 7,\n  vars: 0,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-6\", \"login\"], [\"type\", \"email\", \"id\", \"email\", \"placeholder\", \"Enter email\", 1, \"emailTextBox\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", \"Enter password\", 1, \"passwordTextBox\"], [1, \"loginButton\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelement(3, \"input\", 3);\n      i0.ɵɵelement(4, \"input\", 4);\n      i0.ɵɵelementStart(5, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_5_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵtext(6, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\".login[_ngcontent-%COMP%] {\\n  height: 400px;\\n  width: 30%;\\n  background-color: rgba(139, 199, 99, 0.795);\\n  position: absolute;\\n  left: 35%;\\n  margin-top: 6%;\\n}\\n\\n.emailTextBox[_ngcontent-%COMP%], .passwordTextBox[_ngcontent-%COMP%] {\\n  width: 80%;\\n  height: 35px;\\n  margin-top: 15%;\\n  border: none;\\n  margin-left: 10%;\\n  font-family: Roboto;\\n  font-weight: 500;\\n}\\n\\n.emailTextBox[_ngcontent-%COMP%]:focus, .passwordTextBox[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n}\\n\\n.loginButton[_ngcontent-%COMP%] {\\n  margin-top: 10%;\\n  width: 40%;\\n  margin-left: 30%;\\n  height: 35px;\\n  border: none;\\n  background-color: rgba(93, 158, 50, 0.933);\\n  color: white;\\n  font-family: Roboto;\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLFVBQUE7RUFDQSwyQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTs7RUFFRSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7O0VBRUUsYUFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsMENBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQUNGIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvZ2luIHtcclxuICBoZWlnaHQ6IDQwMHB4O1xyXG4gIHdpZHRoOiAzMCU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMzksIDE5OSwgOTksIDAuNzk1KTtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMzUlO1xyXG4gIG1hcmdpbi10b3A6IDYlO1xyXG59XHJcblxyXG4uZW1haWxUZXh0Qm94LFxyXG4ucGFzc3dvcmRUZXh0Qm94IHtcclxuICB3aWR0aDogODAlO1xyXG4gIGhlaWdodDogMzVweDtcclxuICBtYXJnaW4tdG9wOiAxNSU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIG1hcmdpbi1sZWZ0OiAxMCU7XHJcbiAgZm9udC1mYW1pbHk6IFJvYm90bztcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4uZW1haWxUZXh0Qm94OmZvY3VzLFxyXG4ucGFzc3dvcmRUZXh0Qm94OmZvY3VzIHtcclxuICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG4ubG9naW5CdXR0b24ge1xyXG4gIG1hcmdpbi10b3A6IDEwJTtcclxuICB3aWR0aDogNDAlO1xyXG4gIG1hcmdpbi1sZWZ0OiAzMCU7XHJcbiAgaGVpZ2h0OiAzNXB4O1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkzLCAxNTgsIDUwLCAwLjkzMyk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtZmFtaWx5OiBSb2JvdG87XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"sources":["C:/LibraryManagementSystem/librarymanagement/src/app/shared/login/login.component.ts"],"names":["EventEmitter","lastValueFrom","i0","i1","i2","LoginComponent","constructor","databaseService","http","email","hasError","user","nameEmitter","ngOnInit","login","emailBox","document","getElementById","value","passwordBox","password","getUserByEmail","localStorage","setItem","id","role","userFirstName","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","DatabaseServiceService","HttpClient","ɵcmp","ɵɵdefineComponent","type","selectors","outputs","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵlistener","LoginComponent_Template_button_click_5_listener","ɵɵtext","ɵɵelementEnd","styles"],"mappings":"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","sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport { lastValueFrom } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/database-service.service\";\r\nimport * as i2 from \"@angular/common/http\";\r\nexport class LoginComponent {\r\n    constructor(databaseService, http) {\r\n        this.databaseService = databaseService;\r\n        this.http = http;\r\n        this.email = '';\r\n        this.hasError = false;\r\n        this.user = [];\r\n        this.nameEmitter = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    async login() {\r\n        var emailBox = document.getElementById('email');\r\n        var email = emailBox.value;\r\n        var passwordBox = document.getElementById('password');\r\n        var password = passwordBox.value;\r\n        this.user = await lastValueFrom(this.databaseService.getUserByEmail(email, password));\r\n        localStorage.setItem('userId', this.user[0].id);\r\n        localStorage.setItem('role', this.user[0].role);\r\n        localStorage.setItem('userName', this.user[0].userFirstName);\r\n    }\r\n}\r\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService), i0.ɵɵdirectiveInject(i2.HttpClient)); };\r\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], outputs: { nameEmitter: \"nameEmitter\" }, decls: 7, vars: 0, consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-6\", \"login\"], [\"type\", \"email\", \"id\", \"email\", \"placeholder\", \"Enter email\", 1, \"emailTextBox\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", \"Enter password\", 1, \"passwordTextBox\"], [1, \"loginButton\", 3, \"click\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelement(3, \"input\", 3);\r\n        i0.ɵɵelement(4, \"input\", 4);\r\n        i0.ɵɵelementStart(5, \"button\", 5);\r\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_5_listener() { return ctx.login(); });\r\n        i0.ɵɵtext(6, \"Login\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } }, styles: [\".login[_ngcontent-%COMP%] {\\n  height: 400px;\\n  width: 30%;\\n  background-color: rgba(139, 199, 99, 0.795);\\n  position: absolute;\\n  left: 35%;\\n  margin-top: 6%;\\n}\\n\\n.emailTextBox[_ngcontent-%COMP%], .passwordTextBox[_ngcontent-%COMP%] {\\n  width: 80%;\\n  height: 35px;\\n  margin-top: 15%;\\n  border: none;\\n  margin-left: 10%;\\n  font-family: Roboto;\\n  font-weight: 500;\\n}\\n\\n.emailTextBox[_ngcontent-%COMP%]:focus, .passwordTextBox[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n}\\n\\n.loginButton[_ngcontent-%COMP%] {\\n  margin-top: 10%;\\n  width: 40%;\\n  margin-left: 30%;\\n  height: 35px;\\n  border: none;\\n  background-color: rgba(93, 158, 50, 0.933);\\n  color: white;\\n  font-family: Roboto;\\n  font-weight: 500;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLFVBQUE7RUFDQSwyQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTs7RUFFRSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7O0VBRUUsYUFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLFVBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsMENBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQUNGIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvZ2luIHtcclxuICBoZWlnaHQ6IDQwMHB4O1xyXG4gIHdpZHRoOiAzMCU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMzksIDE5OSwgOTksIDAuNzk1KTtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgbGVmdDogMzUlO1xyXG4gIG1hcmdpbi10b3A6IDYlO1xyXG59XHJcblxyXG4uZW1haWxUZXh0Qm94LFxyXG4ucGFzc3dvcmRUZXh0Qm94IHtcclxuICB3aWR0aDogODAlO1xyXG4gIGhlaWdodDogMzVweDtcclxuICBtYXJnaW4tdG9wOiAxNSU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIG1hcmdpbi1sZWZ0OiAxMCU7XHJcbiAgZm9udC1mYW1pbHk6IFJvYm90bztcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4uZW1haWxUZXh0Qm94OmZvY3VzLFxyXG4ucGFzc3dvcmRUZXh0Qm94OmZvY3VzIHtcclxuICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG4ubG9naW5CdXR0b24ge1xyXG4gIG1hcmdpbi10b3A6IDEwJTtcclxuICB3aWR0aDogNDAlO1xyXG4gIG1hcmdpbi1sZWZ0OiAzMCU7XHJcbiAgaGVpZ2h0OiAzNXB4O1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkzLCAxNTgsIDUwLCAwLjkzMyk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtZmFtaWx5OiBSb2JvdG87XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG4iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}