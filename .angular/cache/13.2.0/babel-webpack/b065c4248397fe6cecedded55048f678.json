{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\LibraryManagementSystem\\\\librarymanagement\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet SearchBookComponent = class SearchBookComponent {\n  constructor(databaseService) {\n    this.databaseService = databaseService;\n    this.displayedColumns = ['id', 'bookName', 'authorName', 'isbnNumber', 'price', 'stockQuantity'];\n    this.books = [];\n    this.totalBooksCount = 0;\n    this.pageSize = 2;\n    this.searchedInput = \"\";\n    this.currentPageIndex = 0;\n    this.role = \"student\";\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var data = yield _this.databaseService.getBooks().toPromise();\n      _this.booksList = data;\n      _this.books = _this.booksList;\n      _this.totalBooksCount = _this.books.length;\n      _this.books = _this.books.slice(0, _this.pageSize);\n    })();\n  }\n\n  changePage(event) {\n    var tempBooks = this.booksList;\n    this.books = tempBooks.slice(event.pageIndex * this.pageSize, (event.pageIndex + 1) * this.pageSize);\n  }\n\n  filterBooks(event) {\n    this.searchedInput = event.target.value;\n    var tempBooks = this.booksList;\n    var tempBooks2 = [];\n\n    for (var i = 0; i < tempBooks.length; i++) {\n      if (tempBooks[i].bookName.includes(this.searchedInput) || tempBooks[i].authorName.includes(this.searchedInput)) {\n        tempBooks2.push(tempBooks[i]);\n      }\n    }\n\n    this.books = tempBooks2;\n    this.totalBooksCount = this.books.length;\n    this.books = this.books.slice(this.currentPageIndex * this.pageSize, (this.currentPageIndex + 1) * this.pageSize);\n  }\n\n};\nSearchBookComponent = __decorate([Component({\n  selector: 'app-search-book',\n  templateUrl: './search-book.component.html',\n  styleUrls: ['./search-book.component.scss']\n})], SearchBookComponent);\nexport { SearchBookComponent };","map":{"version":3,"sources":["C:/LibraryManagementSystem/librarymanagement/src/app/shared/search-book/search-book.component.ts"],"names":["__decorate","Component","SearchBookComponent","constructor","databaseService","displayedColumns","books","totalBooksCount","pageSize","searchedInput","currentPageIndex","role","ngOnInit","data","getBooks","toPromise","booksList","length","slice","changePage","event","tempBooks","pageIndex","filterBooks","target","value","tempBooks2","i","bookName","includes","authorName","push","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,IAAIC,mBAAmB,GAAG,MAAMA,mBAAN,CAA0B;AAChDC,EAAAA,WAAW,CAACC,eAAD,EAAkB;AACzB,SAAKA,eAAL,GAAuBA,eAAvB;AACA,SAAKC,gBAAL,GAAwB,CAAC,IAAD,EAAO,UAAP,EAAmB,YAAnB,EAAiC,YAAjC,EAA+C,OAA/C,EAAwD,eAAxD,CAAxB;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,eAAL,GAAuB,CAAvB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,gBAAL,GAAwB,CAAxB;AACA,SAAKC,IAAL,GAAY,SAAZ;AACH;;AACKC,EAAAA,QAAQ,GAAG;AAAA;;AAAA;AACb,UAAIC,IAAI,SAAS,KAAI,CAACT,eAAL,CAAqBU,QAArB,GAAgCC,SAAhC,EAAjB;AACA,MAAA,KAAI,CAACC,SAAL,GAAiBH,IAAjB;AACA,MAAA,KAAI,CAACP,KAAL,GAAa,KAAI,CAACU,SAAlB;AACA,MAAA,KAAI,CAACT,eAAL,GAAuB,KAAI,CAACD,KAAL,CAAWW,MAAlC;AACA,MAAA,KAAI,CAACX,KAAL,GAAa,KAAI,CAACA,KAAL,CAAWY,KAAX,CAAiB,CAAjB,EAAoB,KAAI,CAACV,QAAzB,CAAb;AALa;AAMhB;;AACDW,EAAAA,UAAU,CAACC,KAAD,EAAQ;AACd,QAAIC,SAAS,GAAG,KAAKL,SAArB;AACA,SAAKV,KAAL,GAAae,SAAS,CAACH,KAAV,CAAgBE,KAAK,CAACE,SAAN,GAAkB,KAAKd,QAAvC,EAAiD,CAACY,KAAK,CAACE,SAAN,GAAkB,CAAnB,IAAwB,KAAKd,QAA9E,CAAb;AACH;;AACDe,EAAAA,WAAW,CAACH,KAAD,EAAQ;AACf,SAAKX,aAAL,GAAqBW,KAAK,CAACI,MAAN,CAAaC,KAAlC;AACA,QAAIJ,SAAS,GAAG,KAAKL,SAArB;AACA,QAAIU,UAAU,GAAG,EAAjB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,SAAS,CAACJ,MAA9B,EAAsCU,CAAC,EAAvC,EAA2C;AACvC,UAAIN,SAAS,CAACM,CAAD,CAAT,CAAaC,QAAb,CAAsBC,QAAtB,CAA+B,KAAKpB,aAApC,KAAsDY,SAAS,CAACM,CAAD,CAAT,CAAaG,UAAb,CAAwBD,QAAxB,CAAiC,KAAKpB,aAAtC,CAA1D,EAAgH;AAC5GiB,QAAAA,UAAU,CAACK,IAAX,CAAgBV,SAAS,CAACM,CAAD,CAAzB;AACH;AACJ;;AACD,SAAKrB,KAAL,GAAaoB,UAAb;AACA,SAAKnB,eAAL,GAAuB,KAAKD,KAAL,CAAWW,MAAlC;AACA,SAAKX,KAAL,GAAa,KAAKA,KAAL,CAAWY,KAAX,CAAiB,KAAKR,gBAAL,GAAwB,KAAKF,QAA9C,EAAwD,CAAC,KAAKE,gBAAL,GAAwB,CAAzB,IAA8B,KAAKF,QAA3F,CAAb;AACH;;AAlC+C,CAApD;AAoCAN,mBAAmB,GAAGF,UAAU,CAAC,CAC7BC,SAAS,CAAC;AACN+B,EAAAA,QAAQ,EAAE,iBADJ;AAENC,EAAAA,WAAW,EAAE,8BAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,8BAAD;AAHL,CAAD,CADoB,CAAD,EAM7BhC,mBAN6B,CAAhC;AAOA,SAASA,mBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nlet SearchBookComponent = class SearchBookComponent {\r\n    constructor(databaseService) {\r\n        this.databaseService = databaseService;\r\n        this.displayedColumns = ['id', 'bookName', 'authorName', 'isbnNumber', 'price', 'stockQuantity'];\r\n        this.books = [];\r\n        this.totalBooksCount = 0;\r\n        this.pageSize = 2;\r\n        this.searchedInput = \"\";\r\n        this.currentPageIndex = 0;\r\n        this.role = \"student\";\r\n    }\r\n    async ngOnInit() {\r\n        var data = await this.databaseService.getBooks().toPromise();\r\n        this.booksList = data;\r\n        this.books = this.booksList;\r\n        this.totalBooksCount = this.books.length;\r\n        this.books = this.books.slice(0, this.pageSize);\r\n    }\r\n    changePage(event) {\r\n        var tempBooks = this.booksList;\r\n        this.books = tempBooks.slice(event.pageIndex * this.pageSize, (event.pageIndex + 1) * this.pageSize);\r\n    }\r\n    filterBooks(event) {\r\n        this.searchedInput = event.target.value;\r\n        var tempBooks = this.booksList;\r\n        var tempBooks2 = [];\r\n        for (var i = 0; i < tempBooks.length; i++) {\r\n            if (tempBooks[i].bookName.includes(this.searchedInput) || tempBooks[i].authorName.includes(this.searchedInput)) {\r\n                tempBooks2.push(tempBooks[i]);\r\n            }\r\n        }\r\n        this.books = tempBooks2;\r\n        this.totalBooksCount = this.books.length;\r\n        this.books = this.books.slice(this.currentPageIndex * this.pageSize, (this.currentPageIndex + 1) * this.pageSize);\r\n    }\r\n};\r\nSearchBookComponent = __decorate([\r\n    Component({\r\n        selector: 'app-search-book',\r\n        templateUrl: './search-book.component.html',\r\n        styleUrls: ['./search-book.component.scss']\r\n    })\r\n], SearchBookComponent);\r\nexport { SearchBookComponent };\r\n"]},"metadata":{},"sourceType":"module"}