{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\LibraryManagementSystem\\\\librarymanagement\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database-service.service\";\nimport * as i2 from \"@angular/material/table\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/paginator\";\n\nfunction ManageBookComponent_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"Book Name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageBookComponent_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r12.bookId);\n  }\n}\n\nfunction ManageBookComponent_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"User Name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageBookComponent_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r13.userId);\n  }\n}\n\nfunction ManageBookComponent_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"Date\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageBookComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r14.borrowedDate);\n  }\n}\n\nfunction ManageBookComponent_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"Has Returned\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageBookComponent_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r15.hasReturned);\n  }\n}\n\nfunction ManageBookComponent_ng_container_19_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"ID\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageBookComponent_ng_container_19_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵelementStart(1, \"button\");\n    i0.ɵɵtext(2, \"Return\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageBookComponent_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 18);\n    i0.ɵɵtemplate(1, ManageBookComponent_ng_container_19_th_1_Template, 2, 0, \"th\", 7);\n    i0.ɵɵtemplate(2, ManageBookComponent_ng_container_19_td_2_Template, 3, 0, \"td\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction ManageBookComponent_ng_container_20_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 16);\n    i0.ɵɵtext(1, \"ID\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ManageBookComponent_ng_container_20_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r21.id, \" \");\n  }\n}\n\nfunction ManageBookComponent_ng_container_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 18);\n    i0.ɵɵtemplate(1, ManageBookComponent_ng_container_20_th_1_Template, 2, 0, \"th\", 7);\n    i0.ɵɵtemplate(2, ManageBookComponent_ng_container_20_td_2_Template, 2, 1, \"td\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction ManageBookComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 19);\n  }\n}\n\nfunction ManageBookComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 20);\n  }\n}\n\nexport class ManageBookComponent {\n  constructor(databaseService) {\n    this.databaseService = databaseService;\n    this.displayedColumns = ['id', 'bookId', 'userId', 'borrowedDate', 'hasReturned'];\n    this.totalBooksCount = 0;\n    this.pageSize = 8;\n    this.searchedInput = \"\";\n    this.currentPageIndex = 0;\n    this.role = \"student\";\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var data = yield _this.databaseService.getOrders().toPromise();\n      _this.orderList = data;\n      var data2 = yield _this.databaseService.getBooks().toPromise();\n      _this.bookList = data2;\n      var data3 = yield _this.databaseService.getUsers().toPromise();\n      _this.userList = data3;\n\n      _this.changeOrderFormat();\n    })();\n  }\n\n  changeOrderFormat() {\n    var orders;\n    var books;\n    var users;\n    orders = this.orderList;\n    books = this.bookList;\n    users = this.userList;\n\n    for (var i = 0; i < orders.length; i++) {\n      for (var j = 0; j < books.length; j++) {\n        if (orders[i].bookId == books[j].id) {\n          orders[i].bookId = books[j].bookName;\n        }\n      }\n\n      for (var j = 0; j < users.length; j++) {\n        if (orders[i].userId == users[j].id) {\n          orders[i].userId = users[j].userFirstName + \" \" + users[j].userLastName;\n        }\n\n        if (orders[i].hasReturned == 'true') {\n          orders[i].hasReturned = \"Yes\";\n        } else {\n          orders[i].hasReturned = \"No\";\n        }\n      }\n\n      this.orders = orders;\n      this.orderList = orders;\n    }\n  }\n\n  changePage(event) {\n    var tempOrders = this.orderList;\n    this.orderList = tempOrders.slice(event.pageIndex * this.pageSize, (event.pageIndex + 1) * this.pageSize);\n  }\n\n  filterBooks(event) {\n    this.searchedInput = event.target.value;\n    var tempOrders = this.orderList;\n    var tempOrders2 = [];\n\n    for (var i = 0; i < tempOrders.length; i++) {\n      if (tempOrders[i].bookId.includes(this.searchedInput) || tempOrders[i].userId.includes(this.searchedInput)) {\n        tempOrders2.push(tempOrders[i]);\n      }\n    }\n\n    this.orderList = tempOrders2;\n    this.totalBooksCount = this.orderList.length;\n    this.orderList = this.orderList.slice(this.currentPageIndex * this.pageSize, (this.currentPageIndex + 1) * this.pageSize);\n  }\n\n}\n\nManageBookComponent.ɵfac = function ManageBookComponent_Factory(t) {\n  return new (t || ManageBookComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService));\n};\n\nManageBookComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ManageBookComponent,\n  selectors: [[\"app-manage-book\"]],\n  decls: 26,\n  vars: 7,\n  consts: [[1, \"container\", \"mainBody\"], [1, \"row\"], [1, \"col-lg-12\", \"searchBar\"], [\"type\", \"text\", \"placeholder\", \"Search Orders\", 1, \"bookSearchBox\", 3, \"change\"], [1, \"col-md-12\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", \"booksTable\", 3, \"dataSource\"], [\"matColumnDef\", \"bookId\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"userId\"], [\"matColumnDef\", \"borrowedDate\"], [\"matColumnDef\", \"hasReturned\"], [\"matColumnDef\", \"id\", 4, \"ngIf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"aria-label\", \"Select page\", 3, \"length\", \"pageSize\", \"page\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"matColumnDef\", \"id\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function ManageBookComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"input\", 3);\n      i0.ɵɵlistener(\"change\", function ManageBookComponent_Template_input_change_3_listener($event) {\n        return ctx.filterBooks($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 1);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"table\", 5);\n      i0.ɵɵelementContainerStart(7, 6);\n      i0.ɵɵtemplate(8, ManageBookComponent_th_8_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(9, ManageBookComponent_td_9_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(10, 9);\n      i0.ɵɵtemplate(11, ManageBookComponent_th_11_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(12, ManageBookComponent_td_12_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(13, 10);\n      i0.ɵɵtemplate(14, ManageBookComponent_th_14_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(15, ManageBookComponent_td_15_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(16, 11);\n      i0.ɵɵtemplate(17, ManageBookComponent_th_17_Template, 2, 0, \"th\", 7);\n      i0.ɵɵtemplate(18, ManageBookComponent_td_18_Template, 2, 1, \"td\", 8);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(19, ManageBookComponent_ng_container_19_Template, 3, 0, \"ng-container\", 12);\n      i0.ɵɵtemplate(20, ManageBookComponent_ng_container_20_Template, 3, 0, \"ng-container\", 12);\n      i0.ɵɵtemplate(21, ManageBookComponent_tr_21_Template, 1, 0, \"tr\", 13);\n      i0.ɵɵtemplate(22, ManageBookComponent_tr_22_Template, 1, 0, \"tr\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 1);\n      i0.ɵɵelementStart(24, \"div\", 4);\n      i0.ɵɵelementStart(25, \"mat-paginator\", 15);\n      i0.ɵɵlistener(\"page\", function ManageBookComponent_Template_mat_paginator_page_25_listener($event) {\n        return ctx.changePage($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"dataSource\", ctx.orderList);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngIf\", ctx.role == \"admin\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.role == \"student\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"length\", ctx.totalBooksCount)(\"pageSize\", ctx.pageSize);\n    }\n  },\n  directives: [i2.MatTable, i2.MatColumnDef, i2.MatHeaderCellDef, i2.MatHeaderCell, i2.MatCellDef, i2.MatCell, i3.NgIf, i2.MatHeaderRowDef, i2.MatHeaderRow, i2.MatRowDef, i2.MatRow, i4.MatPaginator],\n  styles: [\".mainBody[_ngcontent-%COMP%] {\\n  max-width: 2000px;\\n  background-color: rgba(216, 208, 208, 0.933);\\n  height: 600px;\\n}\\n\\n.searchBar[_ngcontent-%COMP%] {\\n  background-color: yellowgreen;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.bookSearchBox[_ngcontent-%COMP%] {\\n  height: 35px;\\n  width: 25%;\\n  border: none;\\n  padding-left: 10px;\\n  font-family: Roboto;\\n  font-weight: 500;\\n  margin-left: 40%;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  padding-left: 10px;\\n}\\n\\n.booksTable[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 2%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZS1ib29rLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLGFBQUE7QUFDRjs7QUFFQTtFQUNFLDZCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGNBQUE7QUFDRiIsImZpbGUiOiJtYW5hZ2UtYm9vay5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluQm9keSB7XHJcbiAgbWF4LXdpZHRoOiAyMDAwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMTYsIDIwOCwgMjA4LCAwLjkzMyk7XHJcbiAgaGVpZ2h0OiA2MDBweDtcclxufVxyXG5cclxuLnNlYXJjaEJhciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93Z3JlZW47XHJcbiAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcbi5ib29rU2VhcmNoQm94IHtcclxuICBoZWlnaHQ6IDM1cHg7XHJcbiAgd2lkdGg6IDI1JTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gIGZvbnQtZmFtaWx5OiBSb2JvdG87XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBtYXJnaW4tbGVmdDogNDAlO1xyXG59XHJcblxyXG5pbnB1dDpmb2N1cyB7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbn1cclxuXHJcbi5ib29rc1RhYmxlIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW4tdG9wOiAyJTtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"sources":["C:/LibraryManagementSystem/librarymanagement/src/app/shared/manage-book/manage-book.component.ts"],"names":["i0","i1","i2","i3","i4","ManageBookComponent_th_8_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ManageBookComponent_td_9_Template","element_r12","$implicit","ɵɵadvance","ɵɵtextInterpolate","bookId","ManageBookComponent_th_11_Template","ManageBookComponent_td_12_Template","element_r13","userId","ManageBookComponent_th_14_Template","ManageBookComponent_td_15_Template","element_r14","borrowedDate","ManageBookComponent_th_17_Template","ManageBookComponent_td_18_Template","element_r15","hasReturned","ManageBookComponent_ng_container_19_th_1_Template","ManageBookComponent_ng_container_19_td_2_Template","ManageBookComponent_ng_container_19_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","ManageBookComponent_ng_container_20_th_1_Template","ManageBookComponent_ng_container_20_td_2_Template","element_r21","ɵɵtextInterpolate1","id","ManageBookComponent_ng_container_20_Template","ManageBookComponent_tr_21_Template","ɵɵelement","ManageBookComponent_tr_22_Template","ManageBookComponent","constructor","databaseService","displayedColumns","totalBooksCount","pageSize","searchedInput","currentPageIndex","role","ngOnInit","data","getOrders","toPromise","orderList","data2","getBooks","bookList","data3","getUsers","userList","changeOrderFormat","orders","books","users","i","length","j","bookName","userFirstName","userLastName","changePage","event","tempOrders","slice","pageIndex","filterBooks","target","value","tempOrders2","includes","push","ɵfac","ManageBookComponent_Factory","t","ɵɵdirectiveInject","DatabaseServiceService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ManageBookComponent_Template","ɵɵlistener","ManageBookComponent_Template_input_change_3_listener","$event","ManageBookComponent_Template_mat_paginator_page_25_listener","ɵɵproperty","directives","MatTable","MatColumnDef","MatHeaderCellDef","MatHeaderCell","MatCellDef","MatCell","NgIf","MatHeaderRowDef","MatHeaderRow","MatRowDef","MatRow","MatPaginator","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/database-service.service\";\r\nimport * as i2 from \"@angular/material/table\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/material/paginator\";\r\nfunction ManageBookComponent_th_8_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 16);\r\n    i0.ɵɵtext(1, \"Book Name\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ManageBookComponent_td_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 17);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r12 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(element_r12.bookId);\r\n} }\r\nfunction ManageBookComponent_th_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 16);\r\n    i0.ɵɵtext(1, \"User Name\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ManageBookComponent_td_12_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 17);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r13 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(element_r13.userId);\r\n} }\r\nfunction ManageBookComponent_th_14_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 16);\r\n    i0.ɵɵtext(1, \"Date\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ManageBookComponent_td_15_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 17);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r14 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(element_r14.borrowedDate);\r\n} }\r\nfunction ManageBookComponent_th_17_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 16);\r\n    i0.ɵɵtext(1, \"Has Returned\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ManageBookComponent_td_18_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 17);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r15 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(element_r15.hasReturned);\r\n} }\r\nfunction ManageBookComponent_ng_container_19_th_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 16);\r\n    i0.ɵɵtext(1, \"ID\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ManageBookComponent_ng_container_19_td_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 17);\r\n    i0.ɵɵelementStart(1, \"button\");\r\n    i0.ɵɵtext(2, \"Return\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ManageBookComponent_ng_container_19_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0, 18);\r\n    i0.ɵɵtemplate(1, ManageBookComponent_ng_container_19_th_1_Template, 2, 0, \"th\", 7);\r\n    i0.ɵɵtemplate(2, ManageBookComponent_ng_container_19_td_2_Template, 3, 0, \"td\", 8);\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction ManageBookComponent_ng_container_20_th_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"th\", 16);\r\n    i0.ɵɵtext(1, \"ID\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction ManageBookComponent_ng_container_20_td_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"td\", 17);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const element_r21 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", element_r21.id, \" \");\r\n} }\r\nfunction ManageBookComponent_ng_container_20_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0, 18);\r\n    i0.ɵɵtemplate(1, ManageBookComponent_ng_container_20_th_1_Template, 2, 0, \"th\", 7);\r\n    i0.ɵɵtemplate(2, ManageBookComponent_ng_container_20_td_2_Template, 2, 1, \"td\", 8);\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction ManageBookComponent_tr_21_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"tr\", 19);\r\n} }\r\nfunction ManageBookComponent_tr_22_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"tr\", 20);\r\n} }\r\nexport class ManageBookComponent {\r\n    constructor(databaseService) {\r\n        this.databaseService = databaseService;\r\n        this.displayedColumns = ['id', 'bookId', 'userId', 'borrowedDate', 'hasReturned'];\r\n        this.totalBooksCount = 0;\r\n        this.pageSize = 8;\r\n        this.searchedInput = \"\";\r\n        this.currentPageIndex = 0;\r\n        this.role = \"student\";\r\n    }\r\n    async ngOnInit() {\r\n        var data = await this.databaseService.getOrders().toPromise();\r\n        this.orderList = data;\r\n        var data2 = await this.databaseService.getBooks().toPromise();\r\n        this.bookList = data2;\r\n        var data3 = await this.databaseService.getUsers().toPromise();\r\n        this.userList = data3;\r\n        this.changeOrderFormat();\r\n    }\r\n    changeOrderFormat() {\r\n        var orders;\r\n        var books;\r\n        var users;\r\n        orders = this.orderList;\r\n        books = this.bookList;\r\n        users = this.userList;\r\n        for (var i = 0; i < orders.length; i++) {\r\n            for (var j = 0; j < books.length; j++) {\r\n                if (orders[i].bookId == books[j].id) {\r\n                    orders[i].bookId = books[j].bookName;\r\n                }\r\n            }\r\n            for (var j = 0; j < users.length; j++) {\r\n                if (orders[i].userId == users[j].id) {\r\n                    orders[i].userId = users[j].userFirstName + \" \" + users[j].userLastName;\r\n                }\r\n                if (orders[i].hasReturned == 'true') {\r\n                    orders[i].hasReturned = \"Yes\";\r\n                }\r\n                else {\r\n                    orders[i].hasReturned = \"No\";\r\n                }\r\n            }\r\n            this.orders = orders;\r\n            this.orderList = orders;\r\n        }\r\n    }\r\n    changePage(event) {\r\n        var tempOrders = this.orderList;\r\n        this.orderList = tempOrders.slice(event.pageIndex * this.pageSize, (event.pageIndex + 1) * this.pageSize);\r\n    }\r\n    filterBooks(event) {\r\n        this.searchedInput = event.target.value;\r\n        var tempOrders = this.orderList;\r\n        var tempOrders2 = [];\r\n        for (var i = 0; i < tempOrders.length; i++) {\r\n            if (tempOrders[i].bookId.includes(this.searchedInput) || tempOrders[i].userId.includes(this.searchedInput)) {\r\n                tempOrders2.push(tempOrders[i]);\r\n            }\r\n        }\r\n        this.orderList = tempOrders2;\r\n        this.totalBooksCount = this.orderList.length;\r\n        this.orderList = this.orderList.slice(this.currentPageIndex * this.pageSize, (this.currentPageIndex + 1) * this.pageSize);\r\n    }\r\n}\r\nManageBookComponent.ɵfac = function ManageBookComponent_Factory(t) { return new (t || ManageBookComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService)); };\r\nManageBookComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ManageBookComponent, selectors: [[\"app-manage-book\"]], decls: 26, vars: 7, consts: [[1, \"container\", \"mainBody\"], [1, \"row\"], [1, \"col-lg-12\", \"searchBar\"], [\"type\", \"text\", \"placeholder\", \"Search Orders\", 1, \"bookSearchBox\", 3, \"change\"], [1, \"col-md-12\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", \"booksTable\", 3, \"dataSource\"], [\"matColumnDef\", \"bookId\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"userId\"], [\"matColumnDef\", \"borrowedDate\"], [\"matColumnDef\", \"hasReturned\"], [\"matColumnDef\", \"id\", 4, \"ngIf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"aria-label\", \"Select page\", 3, \"length\", \"pageSize\", \"page\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"matColumnDef\", \"id\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]], template: function ManageBookComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"input\", 3);\r\n        i0.ɵɵlistener(\"change\", function ManageBookComponent_Template_input_change_3_listener($event) { return ctx.filterBooks($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 1);\r\n        i0.ɵɵelementStart(5, \"div\", 4);\r\n        i0.ɵɵelementStart(6, \"table\", 5);\r\n        i0.ɵɵelementContainerStart(7, 6);\r\n        i0.ɵɵtemplate(8, ManageBookComponent_th_8_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(9, ManageBookComponent_td_9_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵelementContainerStart(10, 9);\r\n        i0.ɵɵtemplate(11, ManageBookComponent_th_11_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(12, ManageBookComponent_td_12_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵelementContainerStart(13, 10);\r\n        i0.ɵɵtemplate(14, ManageBookComponent_th_14_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(15, ManageBookComponent_td_15_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵelementContainerStart(16, 11);\r\n        i0.ɵɵtemplate(17, ManageBookComponent_th_17_Template, 2, 0, \"th\", 7);\r\n        i0.ɵɵtemplate(18, ManageBookComponent_td_18_Template, 2, 1, \"td\", 8);\r\n        i0.ɵɵelementContainerEnd();\r\n        i0.ɵɵtemplate(19, ManageBookComponent_ng_container_19_Template, 3, 0, \"ng-container\", 12);\r\n        i0.ɵɵtemplate(20, ManageBookComponent_ng_container_20_Template, 3, 0, \"ng-container\", 12);\r\n        i0.ɵɵtemplate(21, ManageBookComponent_tr_21_Template, 1, 0, \"tr\", 13);\r\n        i0.ɵɵtemplate(22, ManageBookComponent_tr_22_Template, 1, 0, \"tr\", 14);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"div\", 1);\r\n        i0.ɵɵelementStart(24, \"div\", 4);\r\n        i0.ɵɵelementStart(25, \"mat-paginator\", 15);\r\n        i0.ɵɵlistener(\"page\", function ManageBookComponent_Template_mat_paginator_page_25_listener($event) { return ctx.changePage($event); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"dataSource\", ctx.orderList);\r\n        i0.ɵɵadvance(13);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.role == \"admin\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.role == \"student\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"length\", ctx.totalBooksCount)(\"pageSize\", ctx.pageSize);\r\n    } }, directives: [i2.MatTable, i2.MatColumnDef, i2.MatHeaderCellDef, i2.MatHeaderCell, i2.MatCellDef, i2.MatCell, i3.NgIf, i2.MatHeaderRowDef, i2.MatHeaderRow, i2.MatRowDef, i2.MatRow, i4.MatPaginator], styles: [\".mainBody[_ngcontent-%COMP%] {\\n  max-width: 2000px;\\n  background-color: rgba(216, 208, 208, 0.933);\\n  height: 600px;\\n}\\n\\n.searchBar[_ngcontent-%COMP%] {\\n  background-color: yellowgreen;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.bookSearchBox[_ngcontent-%COMP%] {\\n  height: 35px;\\n  width: 25%;\\n  border: none;\\n  padding-left: 10px;\\n  font-family: Roboto;\\n  font-weight: 500;\\n  margin-left: 40%;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  padding-left: 10px;\\n}\\n\\n.booksTable[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 2%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hbmFnZS1ib29rLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSw0Q0FBQTtFQUNBLGFBQUE7QUFDRjs7QUFFQTtFQUNFLDZCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGNBQUE7QUFDRiIsImZpbGUiOiJtYW5hZ2UtYm9vay5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYWluQm9keSB7XHJcbiAgbWF4LXdpZHRoOiAyMDAwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMTYsIDIwOCwgMjA4LCAwLjkzMyk7XHJcbiAgaGVpZ2h0OiA2MDBweDtcclxufVxyXG5cclxuLnNlYXJjaEJhciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93Z3JlZW47XHJcbiAgcGFkZGluZy10b3A6IDEwcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcbi5ib29rU2VhcmNoQm94IHtcclxuICBoZWlnaHQ6IDM1cHg7XHJcbiAgd2lkdGg6IDI1JTtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gIGZvbnQtZmFtaWx5OiBSb2JvdG87XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBtYXJnaW4tbGVmdDogNDAlO1xyXG59XHJcblxyXG5pbnB1dDpmb2N1cyB7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbn1cclxuXHJcbi5ib29rc1RhYmxlIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW4tdG9wOiAyJTtcclxufVxyXG4iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}