{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\LibraryManagementSystem\\\\librarymanagement\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/tooltip\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/badge\";\n\nconst _c0 = function () {\n  return [\"/manageBook\"];\n};\n\nfunction HeaderComponent_li_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_15_Template_li_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.navigateHeaderPage(\"manageBook\");\n    });\n    i0.ɵɵelementStart(1, \"a\", 7);\n    i0.ɵɵtext(2, \"Manage Books\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.currentPage == \"manageBook\" ? \"nav-item active\" : \"nav-item\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n  }\n}\n\nconst _c1 = function () {\n  return [\"/cart\"];\n};\n\nfunction HeaderComponent_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_16_Template_li_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.navigateHeaderPage(\"cart\");\n    });\n    i0.ɵɵelementStart(1, \"a\", 7);\n    i0.ɵɵelementStart(2, \"mat-icon\", 14);\n    i0.ɵɵtext(3, \"shopping_cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.currentPage == \"cart\" ? \"nav-item active\" : \"nav-item\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matBadge\", ctx_r1.cartCount);\n  }\n}\n\nconst _c2 = function () {\n  return [\"/login\"];\n};\n\nfunction HeaderComponent_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵelementStart(1, \"a\", 16);\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c2));\n  }\n}\n\nfunction HeaderComponent_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.logOut();\n    });\n    i0.ɵɵtext(1, \" Log Out \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HeaderComponent_mat_icon_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 18);\n    i0.ɵɵtext(1, \"person\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matTooltip\", ctx_r4.userName);\n  }\n}\n\nconst _c3 = function () {\n  return [\"/search\"];\n};\n\nconst _c4 = function () {\n  return [\"/transactions\"];\n};\n\nexport class HeaderComponent {\n  constructor(databaseService, router) {\n    this.databaseService = databaseService;\n    this.router = router;\n    this.currentPage = 'searchBooks';\n    this.isLoggedIn = false;\n    this.userId = sessionStorage.getItem('userId');\n    this.role = sessionStorage.getItem('role');\n    this.userName = sessionStorage.getItem('userName');\n    this.cart = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.userId != null) {\n        _this.isLoggedIn = true;\n      }\n\n      if (_this.isLoggedIn) {\n        _this.cart = yield lastValueFrom(_this.databaseService.getCartByUserId(_this.userId));\n        _this.cartCount = _this.cart[0].BookId.length;\n      }\n    })();\n  }\n\n  ngOnChanges() {\n    console.log('changed');\n  }\n\n  navigateHeaderPage(page) {\n    this.currentPage = page;\n  }\n\n  logOut() {\n    sessionStorage.clear();\n    this.router.navigateByUrl('login');\n  }\n\n}\n\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderComponent,\n  selectors: [[\"app-header\"]],\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 21,\n  vars: 11,\n  consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-success\"], [\"href\", \"#\", \"matTooltip\", \"Library Management System\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\", \"topNav\"], [1, \"navbar-nav\", \"mr-auto\"], [3, \"ngClass\", \"click\"], [\"routerLinkActive\", \"router-link-active\", 1, \"nav-link\", 3, \"routerLink\"], [1, \"sr-only\"], [3, \"ngClass\", \"click\", 4, \"ngIf\"], [1, \"form-inline\", \"my-2\", \"my-lg-0\", \"login\"], [\"class\", \"btn btn-outline-light my-2 my-sm-0 loginButton\", \"type\", \"submit\", 4, \"ngIf\"], [\"class\", \"btn btn-outline-light my-2 my-sm-0 logoutButton\", \"type\", \"submit\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"userIcon\", 3, \"matTooltip\", 4, \"ngIf\"], [\"matBadgeOverlap\", \"false\", 1, \"cart\", 3, \"matBadge\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-light\", \"my-2\", \"my-sm-0\", \"loginButton\"], [\"routerLinkActive\", \"router-link-active\", 3, \"routerLink\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-light\", \"my-2\", \"my-sm-0\", \"logoutButton\", 3, \"click\"], [1, \"userIcon\", 3, \"matTooltip\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0);\n      i0.ɵɵelementStart(1, \"a\", 1);\n      i0.ɵɵtext(2, \"LMS\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 2);\n      i0.ɵɵelement(4, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"ul\", 5);\n      i0.ɵɵelementStart(7, \"li\", 6);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_li_click_7_listener() {\n        return ctx.navigateHeaderPage(\"searchBooks\");\n      });\n      i0.ɵɵelementStart(8, \"a\", 7);\n      i0.ɵɵtext(9, \"Search Books \");\n      i0.ɵɵelementStart(10, \"span\", 8);\n      i0.ɵɵtext(11, \"(current)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"li\", 6);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_li_click_12_listener() {\n        return ctx.navigateHeaderPage(\"pastBorrows\");\n      });\n      i0.ɵɵelementStart(13, \"a\", 7);\n      i0.ɵɵtext(14, \"Past Borrows\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(15, HeaderComponent_li_15_Template, 3, 3, \"li\", 9);\n      i0.ɵɵtemplate(16, HeaderComponent_li_16_Template, 4, 4, \"li\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"form\", 10);\n      i0.ɵɵtemplate(18, HeaderComponent_button_18_Template, 3, 2, \"button\", 11);\n      i0.ɵɵtemplate(19, HeaderComponent_button_19_Template, 2, 0, \"button\", 12);\n      i0.ɵɵtemplate(20, HeaderComponent_mat_icon_20_Template, 2, 1, \"mat-icon\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngClass\", ctx.currentPage == \"searchBooks\" ? \"nav-item active\" : \"nav-item\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c3));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", ctx.currentPage == \"pastBorrows\" ? \"nav-item active\" : \"nav-item\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c4));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.role == \"admin\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.role != \"admin\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n    }\n  },\n  directives: [i3.MatTooltip, i4.NgClass, i2.RouterLinkWithHref, i2.RouterLinkActive, i4.NgIf, i5.MatIcon, i6.MatBadge],\n  styles: [\".top-navbar[_ngcontent-%COMP%] {\\n  background-color: #2725a0;\\n  padding-top: 15px;\\n  padding-bottom: 15px;\\n}\\n\\n.library-header[_ngcontent-%COMP%] {\\n  color: white;\\n  font-weight: 500;\\n  margin-left: 3%;\\n  padding: 0%;\\n}\\n\\n.nav-item[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n\\n.active[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid yellowgreen;\\n}\\n\\n.cart[_ngcontent-%COMP%] {\\n  margin-left: 10%;\\n}\\n\\n.login[_ngcontent-%COMP%] {\\n  width: 10%;\\n}\\n\\n.logoutButton[_ngcontent-%COMP%], .loginButton[_ngcontent-%COMP%] {\\n  color: white;\\n}\\n\\n.loginButton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: white;\\n}\\n\\n.loginButton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  color: black;\\n}\\n\\n.login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .userIcon[_ngcontent-%COMP%] {\\n  margin-left: 10%;\\n}\\n\\n.userIcon[_ngcontent-%COMP%], .cart[_ngcontent-%COMP%] {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFDRjs7QUFDQTtFQUNFLGdCQUFBO0FBRUY7O0FBQ0E7RUFDRSxvQ0FBQTtBQUVGOztBQUNBO0VBQ0UsZ0JBQUE7QUFFRjs7QUFDQTtFQUNFLFVBQUE7QUFFRjs7QUFDQTs7RUFFRSxZQUFBO0FBRUY7O0FBQ0E7RUFDRSxZQUFBO0FBRUY7O0FBQ0E7RUFDRSxZQUFBO0FBRUY7O0FBQ0E7O0VBRUUsZ0JBQUE7QUFFRjs7QUFDQTs7RUFFRSxZQUFBO0FBRUYiLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvcC1uYXZiYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyNzI1YTA7XHJcbiAgcGFkZGluZy10b3A6IDE1cHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDE1cHg7XHJcbn1cclxuXHJcbi5saWJyYXJ5LWhlYWRlciB7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgbWFyZ2luLWxlZnQ6IDMlO1xyXG4gIHBhZGRpbmc6IDAlO1xyXG59XHJcbi5uYXYtaXRlbSB7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLmFjdGl2ZSB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHllbGxvd2dyZWVuO1xyXG59XHJcblxyXG4uY2FydCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDEwJTtcclxufVxyXG5cclxuLmxvZ2luIHtcclxuICB3aWR0aDogMTAlO1xyXG59XHJcblxyXG4ubG9nb3V0QnV0dG9uLFxyXG4ubG9naW5CdXR0b24ge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmxvZ2luQnV0dG9uIGEge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmxvZ2luQnV0dG9uIGE6aG92ZXIge1xyXG4gIGNvbG9yOiBibGFjaztcclxufVxyXG5cclxuLmxvZ2luIGJ1dHRvbixcclxuLnVzZXJJY29uIHtcclxuICBtYXJnaW4tbGVmdDogMTAlO1xyXG59XHJcblxyXG4udXNlckljb24sXHJcbi5jYXJ0IHtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"sources":["C:/LibraryManagementSystem/librarymanagement/src/app/shared/header/header.component.ts"],"names":["lastValueFrom","i0","i1","i2","i3","i4","i5","i6","_c0","HeaderComponent_li_15_Template","rf","ctx","_r6","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","HeaderComponent_li_15_Template_li_click_0_listener","ɵɵrestoreView","ctx_r5","ɵɵnextContext","navigateHeaderPage","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵproperty","currentPage","ɵɵadvance","ɵɵpureFunction0","_c1","HeaderComponent_li_16_Template","_r8","HeaderComponent_li_16_Template_li_click_0_listener","ctx_r7","ctx_r1","cartCount","_c2","HeaderComponent_button_18_Template","HeaderComponent_button_19_Template","_r10","HeaderComponent_button_19_Template_button_click_0_listener","ctx_r9","logOut","HeaderComponent_mat_icon_20_Template","ctx_r4","userName","_c3","_c4","HeaderComponent","constructor","databaseService","router","isLoggedIn","userId","sessionStorage","getItem","role","cart","ngOnInit","getCartByUserId","BookId","length","ngOnChanges","console","log","page","clear","navigateByUrl","ɵfac","HeaderComponent_Factory","t","ɵɵdirectiveInject","DatabaseServiceService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","HeaderComponent_Template","ɵɵelement","HeaderComponent_Template_li_click_7_listener","HeaderComponent_Template_li_click_12_listener","ɵɵtemplate","directives","MatTooltip","NgClass","RouterLinkWithHref","RouterLinkActive","NgIf","MatIcon","MatBadge","styles"],"mappings":"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","sourcesContent":["import { lastValueFrom } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/database-service.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/material/tooltip\";\r\nimport * as i4 from \"@angular/common\";\r\nimport * as i5 from \"@angular/material/icon\";\r\nimport * as i6 from \"@angular/material/badge\";\r\nconst _c0 = function () { return [\"/manageBook\"]; };\r\nfunction HeaderComponent_li_15_Template(rf, ctx) { if (rf & 1) {\r\n    const _r6 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"li\", 6);\r\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_15_Template_li_click_0_listener() { i0.ɵɵrestoreView(_r6); const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.navigateHeaderPage(\"manageBook\"); });\r\n    i0.ɵɵelementStart(1, \"a\", 7);\r\n    i0.ɵɵtext(2, \"Manage Books\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.currentPage == \"manageBook\" ? \"nav-item active\" : \"nav-item\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\r\n} }\r\nconst _c1 = function () { return [\"/cart\"]; };\r\nfunction HeaderComponent_li_16_Template(rf, ctx) { if (rf & 1) {\r\n    const _r8 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"li\", 6);\r\n    i0.ɵɵlistener(\"click\", function HeaderComponent_li_16_Template_li_click_0_listener() { i0.ɵɵrestoreView(_r8); const ctx_r7 = i0.ɵɵnextContext(); return ctx_r7.navigateHeaderPage(\"cart\"); });\r\n    i0.ɵɵelementStart(1, \"a\", 7);\r\n    i0.ɵɵelementStart(2, \"mat-icon\", 14);\r\n    i0.ɵɵtext(3, \"shopping_cart\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.currentPage == \"cart\" ? \"nav-item active\" : \"nav-item\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c1));\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"matBadge\", ctx_r1.cartCount);\r\n} }\r\nconst _c2 = function () { return [\"/login\"]; };\r\nfunction HeaderComponent_button_18_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"button\", 15);\r\n    i0.ɵɵelementStart(1, \"a\", 16);\r\n    i0.ɵɵtext(2, \"Login\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c2));\r\n} }\r\nfunction HeaderComponent_button_19_Template(rf, ctx) { if (rf & 1) {\r\n    const _r10 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"button\", 17);\r\n    i0.ɵɵlistener(\"click\", function HeaderComponent_button_19_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r10); const ctx_r9 = i0.ɵɵnextContext(); return ctx_r9.logOut(); });\r\n    i0.ɵɵtext(1, \" Log Out \");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction HeaderComponent_mat_icon_20_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-icon\", 18);\r\n    i0.ɵɵtext(1, \"person\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r4 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"matTooltip\", ctx_r4.userName);\r\n} }\r\nconst _c3 = function () { return [\"/search\"]; };\r\nconst _c4 = function () { return [\"/transactions\"]; };\r\nexport class HeaderComponent {\r\n    constructor(databaseService, router) {\r\n        this.databaseService = databaseService;\r\n        this.router = router;\r\n        this.currentPage = 'searchBooks';\r\n        this.isLoggedIn = false;\r\n        this.userId = sessionStorage.getItem('userId');\r\n        this.role = sessionStorage.getItem('role');\r\n        this.userName = sessionStorage.getItem('userName');\r\n        this.cart = [];\r\n    }\r\n    async ngOnInit() {\r\n        if (this.userId != null) {\r\n            this.isLoggedIn = true;\r\n        }\r\n        if (this.isLoggedIn) {\r\n            this.cart = await lastValueFrom(this.databaseService.getCartByUserId(this.userId));\r\n            this.cartCount = this.cart[0].BookId.length;\r\n        }\r\n    }\r\n    ngOnChanges() {\r\n        console.log('changed');\r\n    }\r\n    navigateHeaderPage(page) {\r\n        this.currentPage = page;\r\n    }\r\n    logOut() {\r\n        sessionStorage.clear();\r\n        this.router.navigateByUrl('login');\r\n    }\r\n}\r\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) { return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.DatabaseServiceService), i0.ɵɵdirectiveInject(i2.Router)); };\r\nHeaderComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: HeaderComponent, selectors: [[\"app-header\"]], features: [i0.ɵɵNgOnChangesFeature], decls: 21, vars: 11, consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-light\", \"bg-success\"], [\"href\", \"#\", \"matTooltip\", \"Library Management System\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\", \"topNav\"], [1, \"navbar-nav\", \"mr-auto\"], [3, \"ngClass\", \"click\"], [\"routerLinkActive\", \"router-link-active\", 1, \"nav-link\", 3, \"routerLink\"], [1, \"sr-only\"], [3, \"ngClass\", \"click\", 4, \"ngIf\"], [1, \"form-inline\", \"my-2\", \"my-lg-0\", \"login\"], [\"class\", \"btn btn-outline-light my-2 my-sm-0 loginButton\", \"type\", \"submit\", 4, \"ngIf\"], [\"class\", \"btn btn-outline-light my-2 my-sm-0 logoutButton\", \"type\", \"submit\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"userIcon\", 3, \"matTooltip\", 4, \"ngIf\"], [\"matBadgeOverlap\", \"false\", 1, \"cart\", 3, \"matBadge\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-light\", \"my-2\", \"my-sm-0\", \"loginButton\"], [\"routerLinkActive\", \"router-link-active\", 3, \"routerLink\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-light\", \"my-2\", \"my-sm-0\", \"logoutButton\", 3, \"click\"], [1, \"userIcon\", 3, \"matTooltip\"]], template: function HeaderComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"nav\", 0);\r\n        i0.ɵɵelementStart(1, \"a\", 1);\r\n        i0.ɵɵtext(2, \"LMS\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"button\", 2);\r\n        i0.ɵɵelement(4, \"span\", 3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"div\", 4);\r\n        i0.ɵɵelementStart(6, \"ul\", 5);\r\n        i0.ɵɵelementStart(7, \"li\", 6);\r\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_li_click_7_listener() { return ctx.navigateHeaderPage(\"searchBooks\"); });\r\n        i0.ɵɵelementStart(8, \"a\", 7);\r\n        i0.ɵɵtext(9, \"Search Books \");\r\n        i0.ɵɵelementStart(10, \"span\", 8);\r\n        i0.ɵɵtext(11, \"(current)\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"li\", 6);\r\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_li_click_12_listener() { return ctx.navigateHeaderPage(\"pastBorrows\"); });\r\n        i0.ɵɵelementStart(13, \"a\", 7);\r\n        i0.ɵɵtext(14, \"Past Borrows\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(15, HeaderComponent_li_15_Template, 3, 3, \"li\", 9);\r\n        i0.ɵɵtemplate(16, HeaderComponent_li_16_Template, 4, 4, \"li\", 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(17, \"form\", 10);\r\n        i0.ɵɵtemplate(18, HeaderComponent_button_18_Template, 3, 2, \"button\", 11);\r\n        i0.ɵɵtemplate(19, HeaderComponent_button_19_Template, 2, 0, \"button\", 12);\r\n        i0.ɵɵtemplate(20, HeaderComponent_mat_icon_20_Template, 2, 1, \"mat-icon\", 13);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngClass\", ctx.currentPage == \"searchBooks\" ? \"nav-item active\" : \"nav-item\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c3));\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngClass\", ctx.currentPage == \"pastBorrows\" ? \"nav-item active\" : \"nav-item\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c4));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.role == \"admin\");\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.role != \"admin\");\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\r\n    } }, directives: [i3.MatTooltip, i4.NgClass, i2.RouterLinkWithHref, i2.RouterLinkActive, i4.NgIf, i5.MatIcon, i6.MatBadge], styles: [\".top-navbar[_ngcontent-%COMP%] {\\n  background-color: #2725a0;\\n  padding-top: 15px;\\n  padding-bottom: 15px;\\n}\\n\\n.library-header[_ngcontent-%COMP%] {\\n  color: white;\\n  font-weight: 500;\\n  margin-left: 3%;\\n  padding: 0%;\\n}\\n\\n.nav-item[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n\\n.active[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid yellowgreen;\\n}\\n\\n.cart[_ngcontent-%COMP%] {\\n  margin-left: 10%;\\n}\\n\\n.login[_ngcontent-%COMP%] {\\n  width: 10%;\\n}\\n\\n.logoutButton[_ngcontent-%COMP%], .loginButton[_ngcontent-%COMP%] {\\n  color: white;\\n}\\n\\n.loginButton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  color: white;\\n}\\n\\n.loginButton[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  color: black;\\n}\\n\\n.login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .userIcon[_ngcontent-%COMP%] {\\n  margin-left: 10%;\\n}\\n\\n.userIcon[_ngcontent-%COMP%], .cart[_ngcontent-%COMP%] {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFDRjs7QUFDQTtFQUNFLGdCQUFBO0FBRUY7O0FBQ0E7RUFDRSxvQ0FBQTtBQUVGOztBQUNBO0VBQ0UsZ0JBQUE7QUFFRjs7QUFDQTtFQUNFLFVBQUE7QUFFRjs7QUFDQTs7RUFFRSxZQUFBO0FBRUY7O0FBQ0E7RUFDRSxZQUFBO0FBRUY7O0FBQ0E7RUFDRSxZQUFBO0FBRUY7O0FBQ0E7O0VBRUUsZ0JBQUE7QUFFRjs7QUFDQTs7RUFFRSxZQUFBO0FBRUYiLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvcC1uYXZiYXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyNzI1YTA7XHJcbiAgcGFkZGluZy10b3A6IDE1cHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDE1cHg7XHJcbn1cclxuXHJcbi5saWJyYXJ5LWhlYWRlciB7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgbWFyZ2luLWxlZnQ6IDMlO1xyXG4gIHBhZGRpbmc6IDAlO1xyXG59XHJcbi5uYXYtaXRlbSB7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLmFjdGl2ZSB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHllbGxvd2dyZWVuO1xyXG59XHJcblxyXG4uY2FydCB7XHJcbiAgbWFyZ2luLWxlZnQ6IDEwJTtcclxufVxyXG5cclxuLmxvZ2luIHtcclxuICB3aWR0aDogMTAlO1xyXG59XHJcblxyXG4ubG9nb3V0QnV0dG9uLFxyXG4ubG9naW5CdXR0b24ge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmxvZ2luQnV0dG9uIGEge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmxvZ2luQnV0dG9uIGE6aG92ZXIge1xyXG4gIGNvbG9yOiBibGFjaztcclxufVxyXG5cclxuLmxvZ2luIGJ1dHRvbixcclxuLnVzZXJJY29uIHtcclxuICBtYXJnaW4tbGVmdDogMTAlO1xyXG59XHJcblxyXG4udXNlckljb24sXHJcbi5jYXJ0IHtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuIl19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}